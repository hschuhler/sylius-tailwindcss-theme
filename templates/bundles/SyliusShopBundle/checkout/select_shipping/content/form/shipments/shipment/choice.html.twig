{% set form = hookable_metadata.context.form %}

<div class="mb-5" {{ sylius_test_html_attribute('shipments') }}>
    {{ form_errors(form.method) }}

    {% for key, choice_form in form.method %}
        {% set fee = form.method.vars.shipping_costs[choice_form.vars.value] %}
        {% set method = form.method.vars.choices[key].data %}

        <div class="card bg-neutral border-0 mb-3 card-body" {{ sylius_test_html_attribute('shipping-item') }}>
            <label class="flex justify-between gap-3">
                {% hook 'choice' with { fee, 'form': choice_form, method } %}
            </label>
        </div>
    {% else %}
        {% hook 'choice#unavailable' %}
    {% endfor %}
</div>

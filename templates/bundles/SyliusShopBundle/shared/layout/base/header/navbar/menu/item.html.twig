{% set taxons = hookable_metadata.context.taxons %}

{% for taxon in taxons %}
    {# {{ dump(taxon)}} #}
    {% if taxon.enabledChildren|length > 0 %}
        <div class="dropdown" {{ sylius_test_html_attribute('menu-item', taxon.name) }}>
            {% hook 'item#dropdown' with { taxon } %}
        </div>
    {% else %}
        {% if taxon.level == 1 %}
            {% hook 'item#link' with { taxon } %}
        {% else %}
            <ul tabindex="{{ loop.index }}" class="dropdown-content menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow">
                {% hook 'item#link' with { taxon } %}
            </ul>
        {% endif %}
    {% endif %}
{% endfor %}
